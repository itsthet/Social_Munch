<div class="recipe">
    <h2><%= @recipe.name %></h2>
    <p><%= @recipe.description %></p>
    <p><%= @recipe.ratings %></p>
    <%= link_to "Back to recipes", recipes_path %>
</div>



<div class="actions">
    <%= link_to "Add New Review", new_recipe_review_path(@recipe), class: "btn btn-primary" %>
</div>

<div class="reviews">
    <p><strong>All Reviews</strong></p>
    <ul class="list-group">
      <% @recipe.reviews.each do |review| %>
        <li class="list-group-item"><%= review.comment %></li>
      <% end %>
    </ul>
</div>
<br>



<% if @recipe.favourites.where(user: current_user).first %>
<div data-controller="heart">
    <div data-heart-target="recipeId" data-recipe-id="<%= @recipe.id %>" hidden></div>
    <div data-heart-target="favouriteId" data-favourite-id="<%= @recipe.favourites.where(user: current_user).first.id %>">
    <%= @recipe.favourites.where(user: current_user).count %>
    <i class="fa-solid fa-heart text-success" id="heartIcon"  data-heart-target="item" data-action="click->heart#send"></i>
</div>
<% else %>
<div data-controller="heart">
    <div data-heart-target="recipeId" data-recipe-id="<%= @recipe.id %>" hidden></div>
    <div data-heart-target="favouriteId" data-favourite-id="">
    <%= @recipe.favourites.where(user: current_user).count %>
   <i class="fa-solid fa-heart text-success" style="font-weight: 100;" id="heartIcon"  data-heart-target="item" data-action="click->heart#send"></i>
</div>
<% end %>
